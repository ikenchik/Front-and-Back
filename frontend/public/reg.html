<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Podcast Basement</title>
        <title>Вход в личный кабинет</title>
        <link rel="stylesheet" href="CSS/normalize.css">
        <link rel="stylesheet" href="CSS/style_lk.css">
        <div class="header">
            <a href="/main" class="header-logo">
                <img src="img/LOGO.svg" class="logo" alt="Logo">
              </a>
              <ul class="header-menu"> 
                <a href = "index.html">
                  <div class="button">Новости</div> 
              </a>
                <div class="button">База подкастов</div>
                <a href = "/about">
                  <div class="button">О проекте</div> 
              </a>
                <a href = "/login">
                    <div class="button_lk">Вход</div> 
                </a>
            </ul>
        </div>
        <div class="divider"></div>
        <div class = "background">
          <img src="img/image back 1.svg">
      </div>
    </head>
<body> 
    <div class="container">
        <h1>Регистрация</h1>
        <form id="register-form">
          <div class="input-group">
            <label for="email" class="form-label">Электронная почта</label>
            <input type="email" id="email" placeholder="Введите электронную почту" required>
          </div>
          <div class="input-group">
            <label for="create-password" class="form-label">Создать пароль:</label>
            <input type="password" id="create-password" placeholder="Введите пароль" required>
          </div>
          <div class="input-group">
            <label for="confirm-password" class="form-label">Повторить пароль:</label>
            <input type="password" id="confirm-password" placeholder="Повторите пароль" required>
          </div>
          <button type="submit" class="btn">Зарегистрироваться</button>
        </form>
        <a class="href" href = "/login">
            <button type="submit" class="btn">Войти</button>
        </a>
      </div>
      <script>
        document.getElementById('register-form').addEventListener('submit', function(e) {
          e.preventDefault();
        
          const email = document.getElementById('email').value;
          const password = document.getElementById('create-password').value;
          const confirmPassword = document.getElementById('confirm-password').value;
        
          if(password !== confirmPassword) {
            alert('Пароли не совпадают, попробуйте еще раз.');
            return;
          }
        
          fetch('http://localhost:3000/register', {
            method: 'POST',
            body: JSON.stringify({ email: email, password: password }),
            headers: { 'Content-Type': 'application/json' }
          })
          .then(response => response.json())
          .then(json => alert(json.success ? json.success : json.error))
          .catch(err => console.error('Error:', err));
        });
        </script>
</body>
</html>