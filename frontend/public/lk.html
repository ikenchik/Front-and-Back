<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Вход в личный кабинет</title>
    <link rel="stylesheet" href="CSS/normalize.css">
    <link rel="stylesheet" href="CSS/style_lk.css">
    <div class="header">
        <a href="/main" class="header-logo">
            <img src="img/LOGO.svg" class="logo" alt="Logo">
        </a>
        <ul class="header-menu"> 
            <a href = "index.html">
                <div class="button">Новости</div> 
            </a>
            <div class="button">База подкастов</div>
            <a href = "/about">
                <div class="button">О проекте</div> 
            </a>
            <a href = "/login">
                <div class="button_lk">Вход</div> 
            </a>
        </ul>
    </div>
    <div class="divider"></div>
    <div class = "background">
        <img src="img/image back 1.svg">
    </div>
</head>
<body>
    <div class="container">
        <h1>Вход в личный кабинет</h1>
        <form id="login-form">
            <div class="input-group">
                <label for="email" class="form-label">Электронная почта</label>
                <input type="email" id="email" placeholder="Введите электронную почту" required>
            </div>
            <div class="input-group">
                <label for="password" class="form-label">Пароль:</label>
                <input type="password" id="password" placeholder="Введите пароль" required>
            </div>
            <button type="submit" class="btn">Войти</button>
        </form>
        <button onclick="window.location.href='/register';" type="submit" class="btn">Зарегистрироваться</button>
    </div>
    <script src="script.js"></script>
    <script>
        document.getElementById('login-form').addEventListener('submit', function(s) {
          s.preventDefault();
        
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
       
          fetch('http://localhost:3000/login', {
            method: 'POST',
            body: JSON.stringify({ email: email, password: password }),
            headers: { 'Content-Type': 'application/json' }
          })
          .then(response => response.json())
          .then(json => alert(json.success ? json.success : json.error))
          .catch(err => console.error('Error:', err));
        });
        </script>
</body>
</html>